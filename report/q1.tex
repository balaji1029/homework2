\section{Mathemagic}

\subsection{Task A}

For a Bernoulli random variable $X \sim Ber(p)$, $P[X = 0] = 1-p$, $P[X = 1] = p$ and $P[X = n] = 0 \forall n \geq 2$.

\begin{align*}
    G_{Ber}(z) &= \sum_{n=0}^{\infty} P[X = n]z^n \\
    &= P[X=0] + P[X=1]z \\
    G_{Ber} &= (1-p) + pz
\end{align*}

\subsection{Task B}

When $X \sim Bin(n, p)$, $P[X=k] = \binom{n}{k} p^k (1-p)^{n-k} \; \forall k \in \mathbb{Z}, 0 \leq k \leq n$. $P[X=k] = 0 \; \forall k > n$.

\begin{align*}
    G_{Bin}(z) &= \sum_{k=0}^{\infty} P[X = n] z^k \\
    &= \sum_{k=0}^{n} \binom{n}{k} p^k (1-p)^{n-k} z^k \\
    &= \sum_{k=0}^{n} \binom{n}{k} (pz)^k (1-p)^{n-k} \\
    &= (pz + (1-p))^n \\
    G_{Bin}(z) &= G_{Ber}(z)^n
\end{align*}

\subsection{Task C}


Let $X_1 \text{ and } X_2$ be two random variables which take up non-negative integers and let $X = X_1 + X_2$.

\begin{align*}
    G_X(z) &= \sum_{n=0}^{\infty} P[X = n] z^n \\
    &= \sum_{n=0}^{\infty} \sum_{i=0}^{n} (P[X_1=i]P[X_2=n-i])z^n \\
    &= \sum_{i=0}^{\infty} \sum_{n=i}^{\infty} (P[X_1=i]P[X_2=n-i])z^n \\
    &= \sum_{i=0}^{\infty} \sum_{n=i}^{\infty} (P[X_1=i]z^i)(P[X_2=n-i]z^{n-i}) \\
    &= \sum_{i=0}^{\infty} P[X_1=i]z^i \sum_{n=i}^{\infty} P[X_2=n-i]z^{n-i} \\
    &= \sum_{i=0}^{\infty} P[X_1=i]z^i \sum_{n=0}^{\infty} P[X_2=n]z^{n} \\
    G_X(z)&= G_{X_1}(z) G_{X_2}(z)
\end{align*}

For $k = 1$, $G_\Sigma(z) = G(z)^k$.

If for $k = n-1$, $G_\Sigma(z) = G(z)^k$, then for $k = n$, 

\begin{align*}
    G_\Sigma(z) &= G_{X_1 + X_2 + \cdots + X_{n-1}}(z)G_{X_n}(x) \\ 
    &= \prod_{i=1}^{n} G_{X_i}(z)
    G_\Sigma(z) &= G(z)^k
\end{align*}

From the \textit{Principle of Mathematical Induction}, for all $k \in \mathbb{N}$, $G_\Sigma(z) = G(z)^k$

\subsection{Task D}

When $X \sim Geo(p)$, $P[X = n] = (1-p)^{n-1}p$ and $P[X = 0] = 0$.

\begin{align*}
    G_{Geo}(z) &= \sum_{n=0}^{\infty} P[X = n]z^n \\
    &= \sum_{n=1}^{\infty} (1-p)^{n-1}pz^n \\
    &= pz \sum_{n=1}^{\infty} ((1-p)z)^{n-1} \\
    &= \frac{pz}{1-(1-p)z} \\
\end{align*}

\subsection{Task E}

$X \sim Bin(n, p)$ and $Y \sim NegBin(n, p)$. $Y = \sum_{k=1}^n Y_k$ where $Y_k \sim Geo(p)$.

\begin{align*}
    G(Y) &= G(Y_1 + Y_2 + \cdots + Y_n) \\
    &= G(Y_1)G(Y_2)\cdots G(Y_n) \\
    &= \left(\frac{pz}{1-(1-p)z}\right)^n \\
    G_Y^{(n, p)}(z) &= \left(\frac{pz}{1-(1-p)z}\right)^n \\
    &= \left(\frac{1}{\frac{1}{pz}+(1-\frac{1}{p})}\right)^n \\
    G_X^{(n, p^{-1})}(z^{-1}) &= \left(\frac{1}{pz}+(1-\frac{1}{p})\right)^n \\
    \implies G_Y^{(n, p)}(z) &= \left(G_X^{(n, p^{-1})}(z^{-1})\right)^{-1}
\end{align*}

\subsection{Task F}

$P[Y = k] = \binom{k-1}{n-1} p^n (1-p)^{k-n}$.

\begin{align*}
    G_Y^{(n, p)}(z) &= \sum_{k=0}^{\infty} P[Y = k]z^k \\
    &= \sum_{k=n}^{\infty} \binom{k-1}{n-1} p^n (1-p)^{k-n} z^k \\
    \left(\frac{1}{pz} + \left(1-\frac{1}{p}\right)\right)^{-n} &= \sum_{k=n}^{\infty} \binom{k-1}{n-1} p^n (1-p)^{k-n} z^k
\end{align*}

Substitute $x = z$, $p = 2$

\begin{align*}
    \left(\frac{1}{2x} + \frac{1}{2}\right)^{-n} &= \sum_{k=n}^{\infty} \binom{k-1}{n-1} 2^n (-1)^{k-n} x^{k} \\
    x^n (1+x)^{-n} &= \sum_{k=n}^{\infty} \binom{k-1}{n-1} (-1)^{k-n} x^{k} \\
    (1+x)^{-n} &= \sum_{k=n}^{\infty} \binom{k-1}{n-1} (-1)^{k-n} x^{k-n} \\
    (1+x)^{-n} &= \sum_{r=0}^{\infty} \binom{n+r-1}{n-1} (-1)^{r} x^{r} \\
    (1+x)^{-n} &= \sum_{r=0}^{\infty} \binom{n+r-1}{r} (-1)^{r} x^{r}
\end{align*}

\subsection{Task G}

\begin{align*}
    G(z) &= \sum_{n=0}^{\infty} P[X = n]z^n \\
    G'(z) &= \sum_{n=0}^{\infty} nP[X = n]z^{n-1} \\
    G'(1) &= \sum_{n=0}^{\infty} nP[X = n] \\
    G'(1) &= E[X]
\end{align*}

For Bernoulli random variable $X \sim Ber(p)$,

\begin{align*}
    G_{Ber}(z) &= (1-p) + pz \\
    G'_{Ber}(z) &= p \\
    G'_{Ber}(1) &= p \\
    E[X] &= p
\end{align*}

For Binomial random variable $X \sim Bin(n, p)$,

\begin{align*}
    G_{Bin}(z) &= (pz + (1-p))^n \\
    G'_{Bin}(z) &= np(pz + (1-p))^{n-1} \\
    G'_{Bin}(1) &= np \\
    E[X] &= np
\end{align*}

\pagebreak

For Geometric random variable $X \sim Geo(p)$,

\begin{align*}
    G_{Geo}(z) &= \frac{pz}{1-(1-p)z} \\
    G'_{Geo}(z) &= \frac{p}{(1-(1-p)z)^2} \\
    G'_{Geo}(1) &= \frac{p}{p^2} \\
    E[X] &= \frac{1}{p}
\end{align*}

For Negative Binomial random variable $X \sim NegBin(n, p)$,

\begin{align*}
    G_{NegBin}(z) &= \left(\frac{pz}{1-(1-p)z}\right)^n \\
    G'_{NegBin}(z) &= n\left(\frac{pz}{1-(1-p)z}\right)^{n-1} \frac{p}{(1-(1-p)z)^2} \\
    G'_{NegBin}(1) &= n\left(\frac{p}{p}\right)^{n-1} \frac{p}{p^2} \\
    E[X] &= \frac{n}{p}
\end{align*}